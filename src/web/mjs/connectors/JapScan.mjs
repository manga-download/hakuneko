import Connector from '../engine/Connector.mjs';
import Manga from '../engine/Manga.mjs';

export default class JapScan extends Connector {

    constructor() {
        super();
        super.id = 'japscan';
        super.label = 'JapScan';
        this.tags = [ 'manga', 'french' ];
        this.url = 'https://www.japscan.co';
        this.urlCDN = 'https://c.japscan.co/';

        this.config = {
            throttle: {
                label: 'Throttle Requests [ms]',
                description: 'Enter the timespan in [ms] to delay consecuitive HTTP requests.\nThe image download may fail for to many consecuitive requests.',
                input: 'numeric',
                min: 1000,
                max: 7500,
                value: 1500
            }
        };
    }

    async _getMangaFromURI(uri) {
        let request = new Request(uri, this.requestOptions);
        let data = await this.fetchDOM(request, 'div#main div.card h1');
        let id = uri.pathname + uri.search;
        let title = data[0].textContent.replace(/^[mM]anga\s*/, '').trim();
        return new Manga(this, id, title);
    }

    async _getMangas() {
        let mangaList = [];
        let request = new Request(new URL('/mangas/1', this.url), this.requestOptions);
        let data = await this.fetchDOM(request, 'div.card ul.pagination li:last-of-type a');
        let pageCount = parseInt(data[0].text.trim());
        for(let page = 1; page <= pageCount; page++) {
            let mangas = await this._getMangasFromPage(page);
            mangaList.push(...mangas);
        }
        return mangaList;
    }

    async _getMangasFromPage(page) {
        let request = new Request(new URL('/mangas/' + page, this.url), this.requestOptions);
        let data = await this.fetchDOM(request, 'div.card div p.p-1 a', 5);
        return data.map(element => {
            return {
                id: this.getRootRelativeOrAbsoluteLink(element, request.url),
                title: element.text.trim()
            };
        });
    }

    async _getChapters(manga) {
        let request = new Request(new URL(manga.id, this.url), this.requestOptions);
        let data = await this.fetchDOM(request, 'div.card div#chapters_list div.chapters_list a');
        return data.map(element => {
            this.cfMailDecrypt(element);
            return {
                id: this.getRootRelativeOrAbsoluteLink(element, request.url),
                title: element.text.replace(manga.title, '').replace('Scan', '').replace('VF', '').trim(),
                language: ''
            };
        });
    }

    async _getPages(chapter) {
        let script = `
            window['useBruteForce'] = true;
            const _0x259f=['w7nCikTDiko=','VMKWwqY2w5A=','w6/CnlZUw77Csg==','w6cZwplOwrk=','NsOWw6Q4ScOew6ke','w69fwpQ0w4M=','NQcfw6DDpA==','w49EwrYEw5w=','FSDDiiLDgA==','RcKlw54JNA==','SzXDksKgDg==','w63CiGLDgms=','ScOJG8Ocwr0=','XsKUAMO7Kw==','U8O5OMORwoo=','XsOOLsOSwrc=','RsO4w50ZZw==','wopQDiPCjw==','w5nCpWDDhnc=','wpPDrsKgFMKn','f1oNw6XCng==','wr4/ThxJ','QsKsw4VOwro=','SMKkw4cFPxXDjcOmwqzDg8KVwp8=','TcK4w4DDgcKn','w5TDvcOFworCsg==','GlbDosK7wrM=','wrExw5Ms','wrACw7g9LQ==','wqgMw7wgHA==','wp1Xw49Sw6g=','a8KZw7jDvsK+','IMOJVcK5Eg==','w5HDiMOLwrLCvQ==','w6LCrnvDi28=','N8Ogw5I/','wpZNw7EfP8OAw7vDvcOlwrYaw6lmw5PDuQJOXSrDhMOIdsOGwpcWwr/DocOhwp0+OMONwrAHwpx2asKtb8ODw5o=','LsO9w5g=','f8KAAsOEPw==','R8OBw7Y1ew==','w4s9wqvChsKg','BSXCpw3DoA==','AsKbw6wWHw==','NG7DgsKNwoI=','cTdpw6RZ','w4gtwqhRwpM=','K1vDncOKwo0=','w4/CtXnDnWo=','w5fCrHjDuGQ=','w5JzC8Ojw5U=','w7xCw6vDtcOL','wrErw4E7Pw==','LsO6bsKrMQ==','LinCkMOOwq4=','w5ZEw47Dm8On','NsOBw6M+wq8=','wq/DpMKs','wottTcKhw4Nmwo7Dpg==','MQjCpQnDvA==','YCZYw4db','w5dYaD/CrA==','w5pgJMO7w5E=','Wlw6W0M=','CcKUw6kiLw==','G8OCK8OAw5Y=','WsKcAcOCLA==','woPCr8OJwoHCpA==','wprDlDVABA==','dcOpN8OHwp0=','wqs9w7w0Ng==','woTDmMKsJcK5','w6nCuGRPw5Y=','w4JXw4TDlcOD','wrlFw49Jw4k=','EXzDisObwpY=','w5fDhsOswrPCmQ==','X8Kcw6Fbwrc=','w7XDk8OXwoNC','PRoKw4XDhQ==','w6onwpM=','woh2T8KDw6I=','X8KBw53CiMKkwrLCrMO+Ow==','wqcWahJZ','woAlw646Eg==','wpPDlApUIw==','w6fDnMOswoLCjQ==','UwIjwpJo','w54FwobCmMKW','Jm7DssO3wp0=','wrVCw7YENQ==','w6FIwogPw6w=','FAHCj8OQwoY=','A8Kow4kNPA==','wrLDhAJaDg==','w6c2wrVTwr0=','RsOII8Omwqo=','w7Vpw6zDuMOH','wq4qw5guNg0=','IsK8wpTDkcOy','bCEIwqxS','w4g3worCo8Kf','w6/DiMOhwp3CtQ==','wrQkw4E/GA==','w4UvRA==','fjzDgsKVGw==','Ljk1w7HDuA==','w5oUwoTCqcKj','w5xWw7LDi8OxBMK2wpQ=','DcO+w6gEwpI=','woPDqBNIGw==','wrpbE8Kbw5w=','UMKxwq4ow4PCnw==','LsOqw48FwogqZnPDg8OU','HcKrwqTDqcOcVCvCvknCo8KHwqTDuw==','DCHChQ7DvA==','NDfCpMOZwpw=','wrRzw68ZIw==','DsOFFsOyw6Q=','wqLDpsKoCsK5IQtY','wpxVw5ttw7vDrw==','UMOSJsOqwpU=','aCRmw7lU','wpfDuxlGPw==','w5hEw6/Dt8O4','w6/DlMOWwr5C','w49wZMO9woA=','w6/DvcO2wrfCvQ==','w7ZDw6jDssOJ','w70JwpvCkcKj','GXXDgMKbwoc=','wozDgsKcMMKO','Nl/DicO2woM=','wp1tw7Zdw60=','EkLDucKtwrM=','w6YTwodOwqA=','wrRxwqfCp8Kx','w4LCvcKyL8O/','FVXDkMOOwq0=','wrjCvcORwpLClQ==','w6TCunDDoVdwwrkkw4pWPsOPDVMaLg==','wrR7w4xfw7U=','wq3DhcKgMcK8','w5dnQT7Cmg==','w4RFw6PDhQ==','wq5EIsKUw7k=','w6jDl8Onwp1Y','Y3cIw7PCtw==','w4fDocO3wqjCrw==','Pi7CvADDuA==','w6d4w7/Dp8Ow','w6VNO8Obw4M=','SMKmBMOSLA==','wq/DuwVYDQ==','VCMYwpxSIsOTw70=','w7zDncO4wqp+','wr4QYgFN','NcOqw5g4woU=','XcK4w7NUwrk=','JwDDqCfDvcKHwpIC','wrRCw7QpEQ==','UcKJw4/DnMK+','w5pWZwvCqA==','D3HDssOcwroDw5FMwqpnLVM=','ZMK/wrckw54=','w4DCqH7DuF0=','w700wolTwrg=','w7xAF8OIw6E=','w6BRw4HDpsOx','w7tswoUXw5s=','w54mwr1dwqM=','w4N1wpMQw60=','TgDDnMKYAQ==','TsOiw7knfQ==','wpJcFQbCuA==','wrQiw4Y=','Fy89w6DDvA==','PcORe8K5FA==','w4dFw4LDqMOk','w70awrdxwoY=','w4FRSsOvwqo=','GsK9w6Q2Cg==','YwFow6VJ','UWItw5PCrw==','wpdcw4Jqw7w=','woQfXjht','PMO8w7wdwpg=','w4QMwrzCosKY','wpdOw6kgJA==','w77DnsOHwrY=','Uwpyw7tY','SsKLMcO0Dg==','Di3CjcOywr0=','b8Otw40Bfg==','O8O6w50Awpc=','bWgZR1s=','wpRUAMKOw4Q=','HTE7w6TDkg==','wrw2w40IMg==','OcO+aMKrCA==','w7fCllbDlVk=','IWbDgMKNwps=','w7tmwpMGw7E=','wqFZJcKxw44=','w7VWCcO9w44=','woRyX8KCw4E=','MMOnw68zwq4=','w5scwqkQwog6cijCuhXDr8KOw48=','WMKaBcO3NG1ww4vCgm/Ckn1KU8OaA8KMwoHDhnZKQxnCvgFGDC7Cj8KwwpHDqXvCuMOYNjPCnRo+w57CjMO4w41wSWvChsOYIxAhwp3ClsK8','asKYw7NJwqo=','fcOFw6UCfA==','bcK7wqodw4M=','wpXDkzFeGA==','wqkZw647OA==','IBgbw6PDkg==','w59Fw6U=','PMOHMcO3w5Y=','XVwIw5bCrA==','w5s9wpnClcK8','w48UwqtWwoU0cTk=','VMOqw6MnXg==','wr4ew5s1Mg==','b8KSH8OxK20p','PsKqw4EPKw==','JcKPwpjDqMOT','EAUpw7fDpU/CoMKywrlXH2fChw==','OAvCn8OrwqfCpsO1wpo=','wowNUiFK','ecOHHTAm','wqlSw6whBQ==','UThZw5hU'];(function(_0x548048,_0x259f16){const _0x331c55=function(_0x4253c2){while(--_0x4253c2){_0x548048['push'](_0x548048['shift']());}};_0x331c55(++_0x259f16);}(_0x259f,0x1c7));const _0x331c=function(_0x548048,_0x259f16){_0x548048=_0x548048-0x0;let _0x331c55=_0x259f[_0x548048];if(_0x331c['uaJRAN']===undefined){(function(){let _0x419bce;try{const _0x2a0582=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x419bce=_0x2a0582();}catch(_0x108d12){_0x419bce=window;}const _0x4839bf='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x419bce['atob']||(_0x419bce['atob']=function(_0x1815f2){const _0x4ee852=String(_0x1815f2)['replace'](/=+$/,'');let _0x607bad='';for(let _0x4721ae=0x0,_0x5553e2,_0x5c450b,_0x47e3e6=0x0;_0x5c450b=_0x4ee852['charAt'](_0x47e3e6++);~_0x5c450b&&(_0x5553e2=_0x4721ae%0x4?_0x5553e2*0x40+_0x5c450b:_0x5c450b,_0x4721ae++%0x4)?_0x607bad+=String['fromCharCode'](0xff&_0x5553e2>>(-0x2*_0x4721ae&0x6)):0x0){_0x5c450b=_0x4839bf['indexOf'](_0x5c450b);}return _0x607bad;});}());const _0x563285=function(_0x1ecfae,_0x4c8357){let _0x2459d7=[],_0x20c49b=0x0,_0x4bdeb5,_0x2b6e81='',_0x1ff888='';_0x1ecfae=atob(_0x1ecfae);for(let _0x343891=0x0,_0x3f5e79=_0x1ecfae['length'];_0x343891<_0x3f5e79;_0x343891++){_0x1ff888+='%'+('00'+_0x1ecfae['charCodeAt'](_0x343891)['toString'](0x10))['slice'](-0x2);}_0x1ecfae=decodeURIComponent(_0x1ff888);let _0x43ed5b;for(_0x43ed5b=0x0;_0x43ed5b<0x100;_0x43ed5b++){_0x2459d7[_0x43ed5b]=_0x43ed5b;}for(_0x43ed5b=0x0;_0x43ed5b<0x100;_0x43ed5b++){_0x20c49b=(_0x20c49b+_0x2459d7[_0x43ed5b]+_0x4c8357['charCodeAt'](_0x43ed5b%_0x4c8357['length']))%0x100;_0x4bdeb5=_0x2459d7[_0x43ed5b];_0x2459d7[_0x43ed5b]=_0x2459d7[_0x20c49b];_0x2459d7[_0x20c49b]=_0x4bdeb5;}_0x43ed5b=0x0;_0x20c49b=0x0;for(let _0x23c08f=0x0;_0x23c08f<_0x1ecfae['length'];_0x23c08f++){_0x43ed5b=(_0x43ed5b+0x1)%0x100;_0x20c49b=(_0x20c49b+_0x2459d7[_0x43ed5b])%0x100;_0x4bdeb5=_0x2459d7[_0x43ed5b];_0x2459d7[_0x43ed5b]=_0x2459d7[_0x20c49b];_0x2459d7[_0x20c49b]=_0x4bdeb5;_0x2b6e81+=String['fromCharCode'](_0x1ecfae['charCodeAt'](_0x23c08f)^_0x2459d7[(_0x2459d7[_0x43ed5b]+_0x2459d7[_0x20c49b])%0x100]);}return _0x2b6e81;};_0x331c['KrwHKj']=_0x563285;_0x331c['gKrPOr']={};_0x331c['uaJRAN']=!![];}const _0x4253c2=_0x331c['gKrPOr'][_0x548048];if(_0x4253c2===undefined){if(_0x331c['dxfFhS']===undefined){_0x331c['dxfFhS']=!![];}_0x331c55=_0x331c['KrwHKj'](_0x331c55,_0x259f16);_0x331c['gKrPOr'][_0x548048]=_0x331c55;}else{_0x331c55=_0x4253c2;}return _0x331c55;};new Promise((_0x27fb7b,_0x529866)=>{const _0x274345={};_0x274345[_0x331c('0x13','80AO')]=function(_0x4a9faf,_0x5955d8){return _0x4a9faf!==_0x5955d8;};_0x274345[_0x331c('0x7d','80AO')]=_0x331c('0x25','HM&x');_0x274345[_0x331c('0xc','u*wf')]=function(_0x35ff94,_0x13f253){return _0x35ff94(_0x13f253);};_0x274345[_0x331c('0x19','Iqr$')]=_0x331c('0x7b','D42P');_0x274345[_0x331c('0xd5','nKE0')]=_0x331c('0x90','G%z9');_0x274345[_0x331c('0xbd','EmSx')]=_0x331c('0x56','5QQD');_0x274345[_0x331c('0xd2','g0U2')]=_0x331c('0x3d','D42P');_0x274345[_0x331c('0x18','D42P')]=_0x331c('0x28','g0U2');_0x274345[_0x331c('0x44','gbq1')]=_0x331c('0xb3','HvAD');_0x274345[_0x331c('0x26','p%YP')]=function(_0x3f5283,_0x14803d){return _0x3f5283(_0x14803d);};_0x274345[_0x331c('0x50','p%YP')]=_0x331c('0xd4','Cw%(');_0x274345[_0x331c('0x88','iYj5')]=function(_0x2ad767,_0xa80651){return _0x2ad767===_0xa80651;};_0x274345[_0x331c('0x37','39x@')]=_0x331c('0x79','UZq0');_0x274345[_0x331c('0xb8','Xmp!')]=_0x331c('0x6c','t8R4');_0x274345[_0x331c('0x43','hB)U')]=_0x331c('0xe2','Cw%(');_0x274345[_0x331c('0x3','UZq0')]=_0x331c('0xdf','r8yU');_0x274345[_0x331c('0x31','vrAG')]=_0x331c('0x6f','I*Pf');_0x274345[_0x331c('0xf','YAIn')]=_0x331c('0x20','HvAD');_0x274345[_0x331c('0x34','G%z9')]=_0x331c('0x76',')s74');_0x274345[_0x331c('0xb','jxll')]=_0x331c('0xd3','r8yU');_0x274345[_0x331c('0x41','D3Lz')]=_0x331c('0xa7','iYj5');_0x274345[_0x331c('0x45','e(oM')]=_0x331c('0x7','2[9N');_0x274345[_0x331c('0x4c','2[9N')]=_0x331c('0xdc','e(oM');_0x274345[_0x331c('0x55',']VC6')]=_0x331c('0x1c','gbq1');_0x274345[_0x331c('0xbb','Iqr$')]=_0x331c('0x2a','g0U2');_0x274345[_0x331c('0xd7','e%ZA')]=function(_0x57e303,_0x13aec4){return _0x57e303<_0x13aec4;};_0x274345[_0x331c('0x5b','WVM%')]=_0x331c('0x74','e%ZA');_0x274345[_0x331c('0x8b','r8yU')]=function(_0x5e33ad,_0x5ea64e){return _0x5e33ad(_0x5ea64e);};_0x274345[_0x331c('0xb5','HM&x')]=function(_0x59fa7b,_0x2c557e){return _0x59fa7b(_0x2c557e);};_0x274345[_0x331c('0x92','D42P')]=_0x331c('0x83','p%YP');_0x274345[_0x331c('0x4e','M1Iw')]=_0x331c('0x7c','M1Iw');_0x274345[_0x331c('0x1d','5QQD')]=_0x331c('0x0','uAH6');_0x274345[_0x331c('0x1b','nKE0')]=_0x331c('0x3e',']VC6');_0x274345[_0x331c('0x3b','WFvy')]=_0x331c('0xe','gbq1');_0x274345[_0x331c('0x6b','HvAD')]=function(_0x17ad8e,_0x1f6686){return _0x17ad8e&&_0x1f6686;};_0x274345[_0x331c('0xd0','Sin3')]=function(_0x1435d7){return _0x1435d7();};_0x274345[_0x331c('0x38','HvAD')]=function(_0x4987aa,_0x41aa9d){return _0x4987aa&&_0x41aa9d;};_0x274345[_0x331c('0xc5','tX@H')]=_0x331c('0x66','HvAD');_0x274345[_0x331c('0xbe','g0U2')]=_0x331c('0xe5','jxll');_0x274345[_0x331c('0x8d','cmcJ')]=function(_0x422d0b){return _0x422d0b();};_0x274345[_0x331c('0x9c','Cw%(')]=function(_0x1f8eb1){return _0x1f8eb1();};_0x274345[_0x331c('0x48','pE0N')]=function(_0x4ae26f,_0x1146aa){return _0x4ae26f&&_0x1146aa;};_0x274345[_0x331c('0xd','^xsS')]=function(_0x23291d){return _0x23291d();};_0x274345[_0x331c('0x2e','&n!D')]=function(_0x6d88d7,_0x29f73e){return _0x6d88d7&&_0x29f73e;};_0x274345[_0x331c('0xde','I*Pf')]=_0x331c('0x29','UZq0');_0x274345[_0x331c('0xa1','g0U2')]=function(_0x457405,_0x558db7){return _0x457405===_0x558db7;};_0x274345[_0x331c('0x33','iYj5')]=_0x331c('0x5','G%z9');_0x274345[_0x331c('0x21','HvAD')]=_0x331c('0xe4',')s74');_0x274345[_0x331c('0x4a','ulxF')]=function(_0x5f45fc,_0x58b7a2){return _0x5f45fc(_0x58b7a2);};_0x274345[_0x331c('0xc3','Cw%(')]=_0x331c('0x75','g0U2');_0x274345[_0x331c('0x60','uAH6')]=_0x331c('0x9','%QfD');const _0x42883a=_0x274345;function _0x5afc13(){if(_0x42883a[_0x331c('0x32','r8yU')](_0x42883a[_0x331c('0x2b','Cw%(')],_0x42883a[_0x331c('0x80','39x@')])){map[keys[index]]=values[index];}else{_0x42883a[_0x331c('0x96','MFas')](_0x27fb7b,[...this[_0x42883a[_0x331c('0xa6','D3Lz')]][_0x42883a[_0x331c('0x8','r8yU')]]([_0x42883a[_0x331c('0x23','M1Iw')],'a',_0x42883a[_0x331c('0xd9','ulxF')]][_0x42883a[_0x331c('0xe3','gbq1')]]('\x20'))][_0x42883a[_0x331c('0x89','M1Iw')]](_0x862475=>_0x862475[_0x331c('0xdb','39x@')]));}}function _0x565a3e(){const _0x91967b={};_0x91967b[_0x331c('0xc7','hB)U')]=function(_0x398e0b,_0x5e4953){return _0x42883a[_0x331c('0xb0','YAIn')](_0x398e0b,_0x5e4953);};_0x91967b[_0x331c('0x69','I*Pf')]=_0x42883a[_0x331c('0x7a','e(oM')];_0x91967b[_0x331c('0x42','Sin3')]=function(_0x59389e,_0xd6af90){return _0x42883a[_0x331c('0x87','D42P')](_0x59389e,_0xd6af90);};_0x91967b[_0x331c('0xce','u*wf')]=_0x42883a[_0x331c('0xb6','WFvy')];_0x91967b[_0x331c('0xa5','5QQD')]=_0x42883a[_0x331c('0x52','MFas')];_0x91967b[_0x331c('0x8a','imP]')]=_0x42883a[_0x331c('0x1a','EmSx')];_0x91967b[_0x331c('0x9b','Sin3')]=_0x42883a[_0x331c('0xbf','I*Pf')];_0x91967b[_0x331c('0x5a','p%YP')]=_0x42883a[_0x331c('0x1','EmSx')];_0x91967b[_0x331c('0x77','&n!D')]=_0x42883a[_0x331c('0x3a','uAH6')];_0x91967b[_0x331c('0xab','Sin3')]=_0x42883a[_0x331c('0xcc','G%z9')];_0x91967b[_0x331c('0x35','G%z9')]=_0x42883a[_0x331c('0x95','fgMS')];_0x91967b[_0x331c('0xb1','tX@H')]=_0x42883a[_0x331c('0x1e','p%YP')];const _0x1e24ac=_0x91967b;let _0x41ce29=new this[_0x42883a[(_0x331c('0x6e','jxll'))]](this[_0x42883a[_0x331c('0xa4','UZq0')]][_0x42883a[_0x331c('0xcf','fgMS')]]([_0x42883a[_0x331c('0x24','5QQD')],_0x42883a[_0x331c('0xb2','sdWQ')],_0x42883a[_0x331c('0xc0','UZq0')]][_0x42883a[_0x331c('0xcb','HM&x')]]('\x20'))[_0x42883a[_0x331c('0x63','r8yU')]][_0x42883a[_0x331c('0x51','nKE0')]])[_0x42883a[_0x331c('0xba','vrAG')]][_0x42883a[_0x331c('0x8f','wx5u')]]('.')[_0x42883a[_0x331c('0x2f','gbq1')]]()[_0x42883a[_0x331c('0x5f','u*wf')]]('');let _0x47379d=new this[_0x42883a[(_0x331c('0x9a','39x@'))]](this[_0x42883a[_0x331c('0x5c','I*Pf')]][_0x42883a[_0x331c('0xc2','vrAG')]](_0x42883a[_0x331c('0xc6','g0U2')])[_0x42883a[_0x331c('0x1f','imP]')]])[_0x42883a[_0x331c('0x8c','I2aN')]][_0x42883a[_0x331c('0xca','ulxF')]]('.')[_0x42883a[_0x331c('0x40','vrAG')]]()[_0x42883a[_0x331c('0x10','G%z9')]]('');let _0x3ce772={};for(let _0x1dc263=0x0;_0x42883a[_0x331c('0x46','Cw%(')](_0x1dc263,_0x41ce29[_0x42883a[_0x331c('0x3c','g0U2')]]);_0x1dc263++){_0x3ce772[_0x41ce29[_0x1dc263]]=_0x47379d[_0x1dc263];}let _0x12d5bf=this[_0x42883a[_0x331c('0xac','WFvy')]][_0x42883a[_0x331c('0xa0','EmSx')]]([_0x42883a[_0x331c('0x71','g0U2')],_0x42883a[_0x331c('0xe1','ulxF')],_0x42883a[_0x331c('0x85','I*Pf')]][_0x42883a[_0x331c('0x7f','pE0N')]]('\x20'));_0x12d5bf=[..._0x12d5bf][_0x42883a[_0x331c('0x65','WFvy')]](_0x110443=>{if(_0x1e24ac[_0x331c('0x67',')s74')](_0x1e24ac[_0x331c('0x64','80AO')],_0x1e24ac[_0x331c('0xcd','imP]')])){let _0xb46a11=new this[_0x1e24ac[(_0x331c('0x2','oODQ'))]](_0x110443[_0x1e24ac[_0x331c('0x98','p%YP')]][_0x1e24ac[_0x331c('0x22','HvAD')]]);let _0x2cb916=_0xb46a11[_0x1e24ac[_0x331c('0xb9','gbq1')]][_0x1e24ac[_0x331c('0xda','jxll')]]('.');_0x2cb916[0x0]=_0x2cb916[0x0][_0x1e24ac[_0x331c('0x82','Xmp!')]]('')[_0x1e24ac[_0x331c('0x6','e%ZA')]](_0x7e8cf4=>_0x3ce772[_0x7e8cf4])[_0x1e24ac[_0x331c('0xe0','tX@H')]]('');_0xb46a11[_0x331c('0xa3','^xsS')]=_0x2cb916[_0x1e24ac[_0x331c('0x39','HM&x')]]('.');return _0xb46a11[_0x1e24ac[_0x331c('0xa8','e%ZA')]];}else{_0x1e24ac[_0x331c('0xc8','fgMS')](_0x529866,new Error(_0x1e24ac[_0x331c('0xae','r8yU')]));}});_0x42883a[_0x331c('0x58','HvAD')](_0x27fb7b,_0x12d5bf);}function _0x16d5ba(){_0x42883a[_0x331c('0x81','MFas')](_0x529866,new Error(_0x42883a[_0x331c('0x57','EmSx')]));}function _0x2b3faa(){let _0x20ca98=[...this[_0x42883a[_0x331c('0x99','&n!D')]][_0x42883a[_0x331c('0x53','jxll')]]([_0x42883a[_0x331c('0x15','tX@H')],_0x42883a[_0x331c('0x14','80AO')],_0x42883a[_0x331c('0x68','WVM%')]][_0x42883a[_0x331c('0x12','Cw%(')]]('\x20'))];let _0x5f154f=_0x20ca98[_0x42883a[_0x331c('0x2d','I*Pf')]](_0x199712=>new this[(_0x331c('0x54','r8yU'))](_0x199712[_0x331c('0x5e','UZq0')],window[_0x331c('0x9e','WVM%')][_0x331c('0xc1','p%YP')])[_0x331c('0x94','39x@')]);_0x42883a[_0x331c('0x2c','tX@H')](_0x27fb7b,_0x5f154f);}this[_0x42883a[_0x331c('0x73','fgMS')]](()=>{try{if(_0x42883a[_0x331c('0x6d','YAIn')](_0x42883a[_0x331c('0x97','Iqr$')],_0x42883a[_0x331c('0xd6','tX@H')])){let _0x11c40f=new this[_0x42883a[(_0x331c('0x91','M1Iw'))]](option[_0x42883a[_0x331c('0xc4','uAH6')]][_0x42883a[_0x331c('0x11','80AO')]]);let _0x1394eb=_0x11c40f[_0x42883a[_0x331c('0xd1',']VC6')]][_0x42883a[_0x331c('0xc9','jxll')]]('.');_0x1394eb[0x0]=_0x1394eb[0x0][_0x42883a[_0x331c('0x3f','&n!D')]]('')[_0x42883a[_0x331c('0x78','uAH6')]](_0x2ca7d2=>map[_0x2ca7d2])[_0x42883a[_0x331c('0xdd','Iqr$')]]('');_0x11c40f[_0x331c('0x70','39x@')]=_0x1394eb[_0x42883a[_0x331c('0xa9','G%z9')]]('.');return _0x11c40f[_0x42883a[_0x331c('0x4b','D42P')]];}else{let _0x351385=this[_0x42883a[_0x331c('0x27','G%z9')]][_0x42883a[_0x331c('0xaf','u*wf')]]([_0x42883a[_0x331c('0x16','sdWQ')],'a',_0x42883a[_0x331c('0x4f','iYj5')]][_0x42883a[_0x331c('0x7f','pE0N')]]('\x20'))&&!![];let _0x2a3560=this[_0x42883a[_0x331c('0x30','imP]')]][_0x42883a[_0x331c('0x86','imP]')]]([_0x42883a[_0x331c('0xbd','EmSx')],'a',_0x42883a[_0x331c('0x36','Sin3')]][_0x42883a[_0x331c('0x4d','WFvy')]]('\x20'))&&!![];let _0x544711=this[_0x42883a[_0x331c('0x19','Iqr$')]][_0x42883a[_0x331c('0x5d','iYj5')]](_0x42883a[_0x331c('0xad','u*wf')])[_0x42883a[_0x331c('0x43','hB)U')]][_0x42883a[_0x331c('0xa','u*wf')]][_0x42883a[_0x331c('0x62','pE0N')]](_0x42883a[_0x331c('0x72','pE0N')]);let _0x2651fb=!_0x544711;switch(!![]){case _0x42883a[_0x331c('0x9d','pE0N')](_0x2651fb,_0x351385):return _0x42883a[_0x331c('0x7e','vrAG')](_0x5afc13);case _0x42883a[_0x331c('0xbc','M1Iw')](_0x544711,_0x351385):return this[_0x42883a[_0x331c('0x6a','p%YP')]][_0x42883a[_0x331c('0x84','WFvy')]]?_0x42883a[_0x331c('0x93','D3Lz')](_0x2b3faa):_0x42883a[_0x331c('0x47','wx5u')](_0x565a3e);case _0x42883a[_0x331c('0x4','vrAG')](_0x2651fb,_0x2a3560):return _0x42883a[_0x331c('0xaa','r8yU')](_0x16d5ba);case _0x42883a[_0x331c('0x17','G%z9')](_0x544711,_0x2a3560):return _0x42883a[_0x331c('0x9f','MFas')](_0x2b3faa);default:_0x42883a[_0x331c('0x59','pE0N')](_0x529866,new Error(_0x42883a[_0x331c('0xb4','jxll')]));}}}catch(_0x4e0be7){if(_0x42883a[_0x331c('0x61','gbq1')](_0x42883a[_0x331c('0xd8','pE0N')],_0x42883a[_0x331c('0x8e','iYj5')])){_0x42883a[_0x331c('0x49','80AO')](_0x529866,_0x4e0be7);}else{_0x42883a[_0x331c('0xa2','nKE0')](_0x529866,_0x4e0be7);}}},this[_0x42883a[_0x331c('0xb7','r8yU')]](0x9c4));});
        `;
        let request = new Request(new URL(chapter.id, this.url), this.requestOptions);
        let data = await Engine.Request.fetchUI(request, script, 15000, true);
        return data.map(page => page.endsWith('.html') ? this.createConnectorURI(page) : page);
    }

    async _handleConnectorURI(payload) {
        let script = `
            window['format'] = '${Engine.Settings.recompressionFormat.value}';
            window['quality'] = ${Engine.Settings.recompressionQuality.value};
            window['imageIndex'] = 1;
            const _0x4a65=['wpjCombDuMKA','TB9TAjo=','EsO1wo3Dv8K5','F8Khw4fDjFw=','w4cLSBBX','e8KUwrUpSw==','cHhqw5/Dkg==','UMO8woLDqDk=','woLCncKEJAkvRcKlUA==','w71/wqfCng==','w5oDSjld','wrbDtcOmwqXClA==','wr89ZMKcbg==','H8OKUcKiVg==','Z0TCtcO4Rw==','OgUcBzA=','F8OLwqvCscKL','LMKww7/DhnI=','w6QDwoUBw74=','w40QYyNS','w70LwqwJw7g=','OsO5Z8KjSA==','RsKXASVt','w6oLwqcGw6Q=','e8OFwoTDozk=','cit+KAkZWgA=','IyMcCCg=','DMObworCiMKtAsKLw4A=','w4TDvgzCkSs=','JjUdOT0=','OcOjYcObwrQ=','wqHCkGXDs8Kq','XgFkICg=','QVvCs8OjdQ==','wobDkxkrw4k=','TcKOw7Y=','w6/DoinCiB4=','w5YnwpIHw5Y=','QcKfwqIsSw==','w6DCvmsuYg==','w7VUw7VQQw==','w73CuGw8QA==','wp0FQsKlcA==','w7cgwpFrw77CmsKzw7E2w4o5wozCtMKtEGU=','w51vw5JvWA==','Q2ESCxA=','Gwc/ABY=','wpojCsOlw5U=','BQB7w7rCpsOxw4B3w5Y=','Mj1Kw5/CvQ==','w5Y5wpMGw5k=','wpjDvitmwrI=','dcO+woDDnR4=','w7EQGgUa','FALCulNY','P8KRwpxVRw==','ZnvCl8Oj','w5EPw7Jtwqg=','wqTDkQYmw7Q=','P3/CtsOSwrw=','w78XGBs1','NUXCrcOcwrU=','w7U8wqUbw5M=','HsOwRcOnwqw=','S8KSwpbCoAQ=','w4fClnoIUw==','eANHHBQ=','w4g4w618wqs=','w4/ChFHDqcOJ','wp7DhMO2wpXCtw==','ZMKnwqshaA==','B8K+LHXCkg==','wogcIcOxw6wybg==','w4TCmmA5cQ==','K8OoZMObwp4=','THoCGT0=','ZCl8JAk=','w7BkCArDrQ==','McOYwrHDqMKs','GsKaMErCow==','clA7IxAifVTDhsKd','D8OVdMKpdA==','w7XDlz7Drgw=','ND4YORc=','wprDvj0Qw5s=','w5XCkkzCq1/ClQ==','w7YMWRRU','Dz/CkX5g','dMK9woc=','w4nCtk/Ch1U=','aH4rOws=','UMKVwqpibA==','EcONB8KGw4d2w7PCpgcewrLDiTHDg8OMSQHCggd4wqvDvUVsw7FLVsOKw6DCkcOcwqjCjsO/TFEqJsKuOsOkV8OUw7TDoMKjVMORw4/DqCnCpyYvwrzCgcKmw4/CvVvDjnlowozDn8Olwo5jwr7CtcKLwoHDpMKW','w5dBCzvDuw==','w6jCvW3ClXo=','SsKAwqlKbg==','wpciC8Olw4o=','NcOLcQoW','w5fDuyXDuQUr','w4vClkPCqFXCqwfDjHwE','wrfDtcOrwo7Cgg==','NMKnw6zDk1E=','PcORcAcw','CD8+w6cg','wo7CpMKCYxU=','dXMeIA0=','wo3DuMOGFCo=','MsOJwqLCiMKg','wpzDrQECw4M=','wovDh2U+wpk=','woTDg8OuwpnChw==','w6rCj0fCmHk=','w7vCqmnDmWI=','wp4DFsOrw5A=','wr3DqBoiw7o=','UFNsw47DkA==','wofDo8OtJy8=','w5EXw7ZPw5s=','wrQSQcK3Rg==','J8KAL13CoQ==','ZcKSCS5s','JMKFw6zDl2g=','IsK8LkDCtQ==','w6fDsyfChxM=','SsKrwrs3VQ==','aVllw6HDgg==','angiPxw=','w4bDuAXClTw=','DMOfwrTDtMKTMMOMXsKtwoE=','LcO+TjYOJsKlbT7CusK9','OMOHTcKvw4c=','w7INw6ZYwrc=','NWrCg8OFwp0=','EcO8wqDDi8KX','eHvCusOsRcOCXQvCvA==','woAqNcOsw60=','w6zDhXUNwpM=','NhQ3w5cd','e0gyERE=','wr3DuhQGw7A=','wqfCucKHZgg=','w4N3CgnDkQ==','Oy3CjcKyLg==','DsObwrbDosKXAg==','K8OkdsK0w58=','wrDDlMOVHhs=','wrbDsSpIwok=','cMKREzx+','fhVFDRU=','w4PCp2MLZA==','OQPCusK+Pg==','wq4zDsObw4M=','wpXDtwR4wqM=','fMOgwq3DrgQ8woAT','w7opwpUpw6E=','w7hrwojCvMK2','FMOsScKQw68=','CMObwr7Ds8K1GcOORcKpwpvCsQ==','RHAXBTs=','w7/CulsSTw==','w4gGwqYdw6c=','w6JYw6BMTA==','w5dkFxDDkg==','TWA8Pys=','OcOeVg==','fsOgwrzDtggt','SV8rIT8=','ecKRHzZG','wqrCh8KfRjE=','ShRKKQI=','w64qwoIQw6U=','wobCukHDqsKI','w6fChH4uQA==','w5IlQiZb','VMKJwrbCoCA=','QsKTAx5F','cEAqBQAcfVfDlsKKE25d','w6XDoRk=','K8Kvw4XDmmI=','wrfDnRgGw70=','Pww0w6YN','w70zw4lKwrc=','VEETGwk=','CxIKw5MP','G8OfQxs0','w59Rw6dGbQ==','b1LCpMOVWQ==','PMKfwqlbYw==','DcOrQcKAQQ=='];(function(_0x53bcfd,_0x4a65ce){const _0x4ad69=function(_0x5a259d){while(--_0x5a259d){_0x53bcfd['push'](_0x53bcfd['shift']());}};_0x4ad69(++_0x4a65ce);}(_0x4a65,0x79));const _0x4ad6=function(_0x53bcfd,_0x4a65ce){_0x53bcfd=_0x53bcfd-0x0;let _0x4ad69=_0x4a65[_0x53bcfd];if(_0x4ad6['sHeUcN']===undefined){(function(){const _0x294b69=function(){let _0x32774c;try{_0x32774c=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x201647){_0x32774c=window;}return _0x32774c;};const _0x29aa80=_0x294b69();const _0x1df652='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x29aa80['atob']||(_0x29aa80['atob']=function(_0x3a4e2a){const _0x4646fb=String(_0x3a4e2a)['replace'](/=+$/,'');let _0x5ee544='';for(let _0x51a7f3=0x0,_0x5cbebe,_0x1402b0,_0x3c799b=0x0;_0x1402b0=_0x4646fb['charAt'](_0x3c799b++);~_0x1402b0&&(_0x5cbebe=_0x51a7f3%0x4?_0x5cbebe*0x40+_0x1402b0:_0x1402b0,_0x51a7f3++%0x4)?_0x5ee544+=String['fromCharCode'](0xff&_0x5cbebe>>(-0x2*_0x51a7f3&0x6)):0x0){_0x1402b0=_0x1df652['indexOf'](_0x1402b0);}return _0x5ee544;});}());const _0x3fb770=function(_0x52c985,_0x6f1244){let _0x38f07b=[],_0x41030=0x0,_0xa0f91e,_0x5b152c='',_0x93e0ba='';_0x52c985=atob(_0x52c985);for(let _0x54bffb=0x0,_0x17df26=_0x52c985['length'];_0x54bffb<_0x17df26;_0x54bffb++){_0x93e0ba+='%'+('00'+_0x52c985['charCodeAt'](_0x54bffb)['toString'](0x10))['slice'](-0x2);}_0x52c985=decodeURIComponent(_0x93e0ba);let _0x27f2ec;for(_0x27f2ec=0x0;_0x27f2ec<0x100;_0x27f2ec++){_0x38f07b[_0x27f2ec]=_0x27f2ec;}for(_0x27f2ec=0x0;_0x27f2ec<0x100;_0x27f2ec++){_0x41030=(_0x41030+_0x38f07b[_0x27f2ec]+_0x6f1244['charCodeAt'](_0x27f2ec%_0x6f1244['length']))%0x100;_0xa0f91e=_0x38f07b[_0x27f2ec];_0x38f07b[_0x27f2ec]=_0x38f07b[_0x41030];_0x38f07b[_0x41030]=_0xa0f91e;}_0x27f2ec=0x0;_0x41030=0x0;for(let _0x2c1930=0x0;_0x2c1930<_0x52c985['length'];_0x2c1930++){_0x27f2ec=(_0x27f2ec+0x1)%0x100;_0x41030=(_0x41030+_0x38f07b[_0x27f2ec])%0x100;_0xa0f91e=_0x38f07b[_0x27f2ec];_0x38f07b[_0x27f2ec]=_0x38f07b[_0x41030];_0x38f07b[_0x41030]=_0xa0f91e;_0x5b152c+=String['fromCharCode'](_0x52c985['charCodeAt'](_0x2c1930)^_0x38f07b[(_0x38f07b[_0x27f2ec]+_0x38f07b[_0x41030])%0x100]);}return _0x5b152c;};_0x4ad6['EzPNye']=_0x3fb770;_0x4ad6['lTdODA']={};_0x4ad6['sHeUcN']=!![];}const _0x5a259d=_0x4ad6['lTdODA'][_0x53bcfd];if(_0x5a259d===undefined){if(_0x4ad6['bJlRBF']===undefined){_0x4ad6['bJlRBF']=!![];}_0x4ad69=_0x4ad6['EzPNye'](_0x4ad69,_0x4a65ce);_0x4ad6['lTdODA'][_0x53bcfd]=_0x4ad69;}else{_0x4ad69=_0x5a259d;}return _0x4ad69;};new Promise((_0x170e66,_0x5e5886)=>{const _0x1b121a={};_0x1b121a[_0x4ad6('0x25','q6lN')]=function(_0x4dca74,_0x2f9711){return _0x4dca74(_0x2f9711);};_0x1b121a[_0x4ad6('0x29','bTnL')]=_0x4ad6('0x16','KGL(');_0x1b121a[_0x4ad6('0x89','9@0t')]=function(_0x1c9f29,_0x157fe6){return _0x1c9f29(_0x157fe6);};_0x1b121a[_0x4ad6('0x78','a@]P')]=_0x4ad6('0x99','ixB0');_0x1b121a[_0x4ad6('0x98','h!1b')]=_0x4ad6('0x2c','a@]P');_0x1b121a[_0x4ad6('0xc','KGL(')]=function(_0x1bacc5,_0x11b53e){return _0x1bacc5/_0x11b53e;};_0x1b121a[_0x4ad6('0x10','7p$o')]=_0x4ad6('0x7','KGL(');_0x1b121a[_0x4ad6('0x96','0p]8')]=_0x4ad6('0x8c','!aJx');_0x1b121a[_0x4ad6('0x9f','jKGM')]=_0x4ad6('0x67','KGL(');_0x1b121a[_0x4ad6('0xa8','9@0t')]=_0x4ad6('0xd','u]J4');_0x1b121a[_0x4ad6('0x8f','q6lN')]=_0x4ad6('0x20','a@]P');_0x1b121a[_0x4ad6('0x47','VqUe')]=_0x4ad6('0x37','q6lN');_0x1b121a[_0x4ad6('0x75','&Lx#')]=_0x4ad6('0x4c','N[!f');_0x1b121a[_0x4ad6('0xaa','%VNx')]=function(_0xcbb1a7,_0x543b86){return _0xcbb1a7+_0x543b86;};_0x1b121a[_0x4ad6('0x35','d00u')]=_0x4ad6('0x6f','%4I0');_0x1b121a[_0x4ad6('0x1','J5j*')]=_0x4ad6('0xa7','ixB0');_0x1b121a[_0x4ad6('0x1c','#EzM')]=_0x4ad6('0x7c','u]J4');_0x1b121a[_0x4ad6('0x81','svx6')]=function(_0x32c98b,_0x343c92){return _0x32c98b(_0x343c92);};_0x1b121a[_0x4ad6('0x1b','kReE')]=_0x4ad6('0xa6','0p]8');_0x1b121a[_0x4ad6('0x30','kReE')]=function(_0x388454,_0x464b2d){return _0x388454(_0x464b2d);};_0x1b121a[_0x4ad6('0x4a','3^lm')]=function(_0x39886d,_0x247d10){return _0x39886d===_0x247d10;};_0x1b121a[_0x4ad6('0x36','hsA%')]=_0x4ad6('0x5a','hsA%');_0x1b121a[_0x4ad6('0x93','J5j*')]=_0x4ad6('0x3b','7p$o');_0x1b121a[_0x4ad6('0x56','%4I0')]=function(_0xb1ad4e,_0x296568){return _0xb1ad4e(_0x296568);};_0x1b121a[_0x4ad6('0x69','%4I0')]=_0x4ad6('0xa0','vfej');_0x1b121a[_0x4ad6('0x9','vfej')]=function(_0x333868,_0x3265a6){return _0x333868(_0x3265a6);};_0x1b121a[_0x4ad6('0x55','VqUe')]=function(_0x477ae1,_0x5c959a){return _0x477ae1(_0x5c959a);};_0x1b121a[_0x4ad6('0xb3','ixB0')]=function(_0x1f41da,_0x3b2fd5){return _0x1f41da(_0x3b2fd5);};_0x1b121a[_0x4ad6('0xa5','%VNx')]=_0x4ad6('0x4d','7j]T');_0x1b121a[_0x4ad6('0x14','bTnL')]=_0x4ad6('0x7e','h!1b');_0x1b121a[_0x4ad6('0x51','W9B6')]=_0x4ad6('0x24','KGL(');_0x1b121a[_0x4ad6('0x4f','9@0t')]=_0x4ad6('0x5d','Mq2K');_0x1b121a[_0x4ad6('0xac','N[!f')]=_0x4ad6('0x38','&2wo');_0x1b121a[_0x4ad6('0xae','IZt@')]=_0x4ad6('0x74','&Lx#');_0x1b121a[_0x4ad6('0x58','%4I0')]=_0x4ad6('0x94','q6lN');_0x1b121a[_0x4ad6('0x87','xcqp')]=_0x4ad6('0x5f','3kDm');_0x1b121a[_0x4ad6('0x49','n1#s')]=function(_0x3a2970,_0x782d2e){return _0x3a2970!==_0x782d2e;};_0x1b121a[_0x4ad6('0x1f','U&9t')]=_0x4ad6('0x26','#EzM');_0x1b121a[_0x4ad6('0x3f','%VNx')]=_0x4ad6('0x8','%VNx');const _0x534dd9=_0x1b121a;let _0x38a01a=this[_0x534dd9[_0x4ad6('0xa3','jKGM')]][_0x534dd9[_0x4ad6('0x61','W!!z')]]([_0x534dd9[_0x4ad6('0x52','u]J4')],_0x534dd9[_0x4ad6('0xe','!aJx')]][_0x534dd9[_0x4ad6('0x6a','n1#s')]]('\x20'))[_0x534dd9[_0x4ad6('0xab','7p$o')]];if(_0x38a01a[_0x534dd9[_0x4ad6('0x7b','R3]P')]](_0x534dd9[_0x4ad6('0x33','#EzM')])&&_0x38a01a[_0x534dd9[_0x4ad6('0x21','%4I0')]](_0x534dd9[_0x4ad6('0x48','5Tru')])){this[_0x534dd9[_0x4ad6('0x86','Mq2K')]](()=>{try{_0x534dd9[_0x4ad6('0xb9','uiwH')](_0x170e66,_0x534dd9[_0x4ad6('0xb6','h!1b')]);}catch(_0x590486){_0x534dd9[_0x4ad6('0x2a','q6lN')](_0x5e5886,_0x590486);}},this[_0x534dd9[_0x4ad6('0xad','q6lN')]](0x9c4));}else{if(_0x534dd9[_0x4ad6('0x1d','3Mo!')](_0x534dd9[_0x4ad6('0xa','xcqp')],_0x534dd9[_0x4ad6('0xaf','3kDm')])){let _0x22ca0c=this[_0x534dd9[_0x4ad6('0x7d','xcqp')]][_0x534dd9[_0x4ad6('0xa2','ixB0')]];let _0x31ca7b=_0x534dd9[_0x4ad6('0x4e','5Tru')](this[_0x534dd9[_0x4ad6('0x4','3^lm')]](this[_0x534dd9[_0x4ad6('0x53','W!!z')]][_0x534dd9[_0x4ad6('0x3c','xcqp')]]),this[_0x534dd9[_0x4ad6('0x5','q6lN')]](_0x534dd9[_0x4ad6('0x1e','!aJx')]));return _0x534dd9[_0x4ad6('0xb0','h!1b')](_0x170e66,canvas[_0x534dd9[_0x4ad6('0xbc','hsA%')]](_0x22ca0c,_0x31ca7b));}else{this[_0x534dd9[_0x4ad6('0x41','u]J4')]](()=>{const _0x333b9a={};_0x333b9a[_0x4ad6('0x50','qfYL')]=_0x534dd9[_0x4ad6('0x39','VqUe')];_0x333b9a[_0x4ad6('0x7a','#wU9')]=_0x534dd9[_0x4ad6('0x63','&2wo')];_0x333b9a[_0x4ad6('0x60','gx0o')]=_0x534dd9[_0x4ad6('0x3e','7p$o')];_0x333b9a[_0x4ad6('0x83','R$($')]=function(_0x5a8007,_0x1b29d8){return _0x534dd9[_0x4ad6('0x73','!aJx')](_0x5a8007,_0x1b29d8);};_0x333b9a[_0x4ad6('0x95','W9B6')]=function(_0x31e75d,_0x3637de){return _0x534dd9[_0x4ad6('0x5c','a@]P')](_0x31e75d,_0x3637de);};_0x333b9a[_0x4ad6('0x1a','hsA%')]=_0x534dd9[_0x4ad6('0x15','3Mo!')];_0x333b9a[_0x4ad6('0x57','5Tru')]=_0x534dd9[_0x4ad6('0x8b','J5j*')];_0x333b9a[_0x4ad6('0x68','gx0o')]=_0x534dd9[_0x4ad6('0x4b','a@]P')];_0x333b9a[_0x4ad6('0xb1','FZXn')]=_0x534dd9[_0x4ad6('0x2f','N[!f')];_0x333b9a[_0x4ad6('0xb5','!aJx')]=function(_0x59dca6,_0x5cc0d9){return _0x534dd9[_0x4ad6('0x11','eI6O')](_0x59dca6,_0x5cc0d9);};_0x333b9a[_0x4ad6('0x19','U&9t')]=_0x534dd9[_0x4ad6('0x18','IZt@')];_0x333b9a[_0x4ad6('0x5e','W!!z')]=_0x534dd9[_0x4ad6('0x2','gx0o')];_0x333b9a[_0x4ad6('0x8d','#EzM')]=function(_0x10322e,_0x27a5f6){return _0x534dd9[_0x4ad6('0x12','h!1b')](_0x10322e,_0x27a5f6);};_0x333b9a[_0x4ad6('0x43','W9B6')]=_0x534dd9[_0x4ad6('0x9d','ixB0')];_0x333b9a[_0x4ad6('0x32','&2wo')]=_0x534dd9[_0x4ad6('0x9a','5Tru')];_0x333b9a[_0x4ad6('0x85','#EzM')]=_0x534dd9[_0x4ad6('0x90','kReE')];_0x333b9a[_0x4ad6('0x54','3kDm')]=function(_0x53f161,_0x82156b){return _0x534dd9[_0x4ad6('0x2e','hsA%')](_0x53f161,_0x82156b);};_0x333b9a[_0x4ad6('0xb7','3^lm')]=_0x534dd9[_0x4ad6('0x34','5Tru')];const _0x512014=_0x333b9a;if(_0x534dd9[_0x4ad6('0x6d','#EzM')](_0x534dd9[_0x4ad6('0x0','VqUe')],_0x534dd9[_0x4ad6('0x59','W9B6')])){let _0x5a354c=this[_0x512014[_0x4ad6('0x46','KGL(')]][_0x512014[_0x4ad6('0x6b','#EzM')]]([_0x512014[_0x4ad6('0x9e','q6lN')],'a',_0x512014[_0x4ad6('0xb2','9@0t')](_0x512014[_0x4ad6('0x70','1d@s')](_0x512014[_0x4ad6('0x31','%4I0')],this[_0x512014[_0x4ad6('0x71','eI6O')]][_0x512014[_0x4ad6('0xb','svx6')]]),')')][_0x512014[_0x4ad6('0x77','U&9t')]]('\x20'));if(_0x5a354c){return _0x512014[_0x4ad6('0x42','R3]P')](_0x170e66,_0x5a354c[_0x4ad6('0x9c','jKGM')]);}let _0x290c4d=this[_0x512014[_0x4ad6('0xa4','!aJx')]][_0x512014[_0x4ad6('0xf','MZpG')]]([_0x512014[_0x4ad6('0x8a','n1#s')],'a',_0x512014[_0x4ad6('0xa1','bTnL')]][_0x512014[_0x4ad6('0xb4','^Vp8')]]('\x20'));if(_0x290c4d){let _0x10a7fc=this[_0x512014[_0x4ad6('0x80','5TS3')]][_0x512014[_0x4ad6('0x9b','#wU9')]];let _0x1b93c8=_0x512014[_0x4ad6('0x23','vfej')](this[_0x512014[_0x4ad6('0x40','1d@s')]](this[_0x512014[_0x4ad6('0xb8','IZt@')]][_0x512014[_0x4ad6('0x66','h!1b')]]),this[_0x512014[_0x4ad6('0x3','n1#s')]](_0x512014[_0x4ad6('0x7f','svx6')]));return _0x512014[_0x4ad6('0x82','%4I0')](_0x170e66,_0x290c4d[_0x512014[_0x4ad6('0xa9','VqUe')]](_0x10a7fc,_0x1b93c8));}}else{_0x534dd9[_0x4ad6('0x28','1d@s')](_0x5e5886,new Error(_0x534dd9[_0x4ad6('0x2d','q6lN')]));}},this[_0x534dd9[_0x4ad6('0x5b','%4I0')]](0x1d4c));this[_0x534dd9[_0x4ad6('0x64','Mq2K')]](()=>{try{let _0x2982e0=this[_0x534dd9[_0x4ad6('0x65','u]J4')]][_0x534dd9[_0x4ad6('0x63','&2wo')]]([_0x534dd9[_0x4ad6('0x75','&Lx#')],'a',_0x534dd9[_0x4ad6('0x8e','R$($')](_0x534dd9[_0x4ad6('0x97','W!!z')](_0x534dd9[_0x4ad6('0x79','5TS3')],this[_0x534dd9[_0x4ad6('0x3d','eI6O')]][_0x534dd9[_0x4ad6('0x44','&2wo')]]),')')][_0x534dd9[_0x4ad6('0x72','W!!z')]]('\x20'));if(_0x2982e0){return _0x534dd9[_0x4ad6('0x3a','h!1b')](_0x170e66,_0x2982e0[_0x4ad6('0x2b','W9B6')]);}let _0xeb316a=this[_0x534dd9[_0x4ad6('0xbb','J5j*')]][_0x534dd9[_0x4ad6('0x62','R$($')]]([_0x534dd9[_0x4ad6('0x27','%4I0')],'a',_0x534dd9[_0x4ad6('0x92','KGL(')]][_0x534dd9[_0x4ad6('0x6e','qfYL')]]('\x20'));if(_0xeb316a){let _0x4ec246=this[_0x534dd9[_0x4ad6('0x7d','xcqp')]][_0x534dd9[_0x4ad6('0x88','@Jp(')]];let _0x2f7359=_0x534dd9[_0x4ad6('0x6c','1d@s')](this[_0x534dd9[_0x4ad6('0x84','d00u')]](this[_0x534dd9[_0x4ad6('0x22','7j]T')]][_0x534dd9[_0x4ad6('0x13','N[!f')]]),this[_0x534dd9[_0x4ad6('0x6','gx0o')]](_0x534dd9[_0x4ad6('0x45','Mq2K')]));return _0x534dd9[_0x4ad6('0x91','bTnL')](_0x170e66,_0xeb316a[_0x534dd9[_0x4ad6('0xba','qfYL')]](_0x4ec246,_0x2f7359));}}catch(_0xcd0bd8){_0x534dd9[_0x4ad6('0x76','%4I0')](_0x5e5886,_0xcd0bd8);}},this[_0x534dd9[_0x4ad6('0x17','vfej')]](0x1f4));}}});
        `;
        let request = new Request(payload, this.requestOptions);
        let data = await Engine.Request.fetchUI(request, script, 60000, true);
        return data === 'repeat' ? this._handleConnectorURI(payload) : super._handleConnectorURI(data);
    }
}