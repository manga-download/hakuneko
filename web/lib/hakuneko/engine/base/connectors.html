<!-- include all connectors that should be added to the list of available connectors -->
<link rel="import" href="connectors/bookmark.html">
<link rel="import" href="connectors/kissmanga-cdn.html">
<link rel="import" href="connectors/kissmanga.html">
<link rel="import" href="connectors/mangafox.html">
<link rel="import" href="connectors/dynasty-scans.html">
<link rel="import" href="connectors/mangareader.html">
<link rel="import" href="connectors/mangahere.html">
<link rel="import" href="connectors/japscan.html">
<link rel="import" href="connectors/mangago-cdn.html">
<link rel="import" href="connectors/mangago.html">
<link rel="import" href="connectors/mangastream.html">
<link rel="import" href="connectors/mangatown.html">
<link rel="import" href="connectors/mangapanda.html">
<link rel="import" href="connectors/mangapark.html">
<link rel="import" href="connectors/manganel.html">
<link rel="import" href="connectors/mangasee.html">
<link rel="import" href="connectors/crunchymanga.html">
<link rel="import" href="connectors/mangarock.html">
<link rel="import" href="connectors/vrv-crunchyroll.html">
<link rel="import" href="connectors/vrv-hidive.html">
<link rel="import" href="connectors/vrv-roosterteeth.html">
<link rel="import" href="connectors/mangadex.html">
<link rel="import" href="connectors/tumangaonline.html">
<link rel="import" href="connectors/unionmangas.html">
<link rel="import" href="connectors/readcomicbooksonline.html">
<link rel="import" href="connectors/rawsenmanga.html">
<link rel="import" href="connectors/mangabat.html">
<link rel="import" href="connectors/mangakakalot.html">
<link rel="import" href="connectors/rawlh.html">
<link rel="import" href="connectors/rawqv.html">
<link rel="import" href="connectors/rawqq.html">
<link rel="import" href="connectors/lhscan.html">
<link rel="import" href="connectors/chibimanga.html">
<link rel="import" href="connectors/itascan.html">
<link rel="import" href="connectors/readmanga.html">
<link rel="import" href="connectors/mintmanga.html">
<link rel="import" href="connectors/selfmanga.html">
<link rel="import" href="connectors/mangalife.html">
<link rel="import" href="connectors/mangasail.html">
<link rel="import" href="connectors/mangatail.html">
<link rel="import" href="connectors/rawneko.html">
<link rel="import" href="connectors/trashscanlations.html">
<link rel="import" href="connectors/mangavy.html">
<link rel="import" href="connectors/mangazuki.html">
<link rel="import" href="connectors/mangazuki-info.html">
<link rel="import" href="connectors/zeroscans.html">
<link rel="import" href="connectors/ngomik.html">
<link rel="import" href="connectors/readmng.html">
<link rel="import" href="connectors/mangaeden-en.html">
<link rel="import" href="connectors/mangaeden-it.html">
<link rel="import" href="connectors/mangatube.html">
<link rel="import" href="connectors/readcomics.html">
<link rel="import" href="connectors/komikcast.html">
<link rel="import" href="connectors/taadd.html">
<link rel="import" href="connectors/tenmanga.html">
<link rel="import" href="connectors/mangarussia.html">
<link rel="import" href="connectors/wiemanga.html">
<link rel="import" href="connectors/ninemanga-en.html">
<link rel="import" href="connectors/ninemanga-es.html">
<link rel="import" href="connectors/ninemanga-ru.html">
<link rel="import" href="connectors/ninemanga-br.html">
<link rel="import" href="connectors/ninemanga-it.html">
<link rel="import" href="connectors/ninemanga-de.html">
<link rel="import" href="connectors/fujoshibitches.html">
<link rel="import" href="connectors/powermanga.html">
<link rel="import" href="connectors/shoujosense.html">
<link rel="import" href="connectors/jaiminisbox.html">
<link rel="import" href="connectors/sensescans.html">
<link rel="import" href="connectors/onetimescans.html">
<link rel="import" href="connectors/kireicake.html">
<link rel="import" href="connectors/helveticascans.html">
<link rel="import" href="connectors/antisensescans.html">
<link rel="import" href="connectors/bunnysscans.html">
<link rel="import" href="connectors/canismajorscans.html">
<link rel="import" href="connectors/championscans.html">
<link rel="import" href="connectors/deathtollscans.html">
<link rel="import" href="connectors/dokifansubs.html">
<link rel="import" href="connectors/evilflowers.html">
<link rel="import" href="connectors/forgottenscans.html">
<link rel="import" href="connectors/hoshikuzuuscans.html">
<link rel="import" href="connectors/hotchocolatescans.html">
<link rel="import" href="connectors/illuminatimanga.html">
<link rel="import" href="connectors/letitgoscans.html">
<link rel="import" href="connectors/mangaichiscans.html">
<link rel="import" href="connectors/phoenixserenade.html">
<link rel="import" href="connectors/riceballicious.html">
<link rel="import" href="connectors/roseliascanlations.html">
<link rel="import" href="connectors/s2scans.html">
<link rel="import" href="connectors/seaotterscans.html">
<link rel="import" href="connectors/silentskyscans.html">
<link rel="import" href="connectors/thecatscans.html">
<link rel="import" href="connectors/vortexscans.html">
<link rel="import" href="connectors/whiteoutscans.html">
<link rel="import" href="connectors/worldthree.html">
<link rel="import" href="connectors/yaoislife.html">
<link rel="import" href="connectors/yuriism.html">
<link rel="import" href="connectors/digitalteam.html">
<link rel="import" href="connectors/dangolinenofansub.html">
<link rel="import" href="connectors/dejameprobar.html">
<link rel="import" href="connectors/hoshinofansub.html">
<link rel="import" href="connectors/jokerfansub.html">
<link rel="import" href="connectors/kirishimafansub.html">
<link rel="import" href="connectors/lolivault.html">
<link rel="import" href="connectors/mangajinnofansub.html">
<link rel="import" href="connectors/menudofansub.html">
<link rel="import" href="connectors/noranofansub.html">
<link rel="import" href="connectors/patyscans.html">
<link rel="import" href="connectors/pcnet.html">
<link rel="import" href="connectors/pzykosis666hfansub.html">
<link rel="import" href="connectors/ravensscans-en.html">
<link rel="import" href="connectors/ravensscans-es.html">
<link rel="import" href="connectors/seinagiadultofansub.html">
<link rel="import" href="connectors/seinagifansub-en.html">
<link rel="import" href="connectors/seinagifansub-es.html">
<link rel="import" href="connectors/solitarionofansub.html">
<link rel="import" href="connectors/truecolorsscan.html">
<link rel="import" href="connectors/xanimeseduccion.html">
<link rel="import" href="connectors/yamitenshinofansub.html">
<link rel="import" href="connectors/twistedhelscans.html">
<link rel="import" href="connectors/atelierdunoir.html">
<link rel="import" href="connectors/neoprojectscans.html">
<link rel="import" href="connectors/nightow.html">
<link rel="import" href="connectors/leomanga.html">
<link rel="import" href="connectors/submanga.html">
<link rel="import" href="connectors/animextremist.html">
<link rel="import" href="connectors/mangawindow.html">
<link rel="import" href="connectors/batoto.html">
<link rel="import" href="connectors/mangahasu.html">
<link rel="import" href="connectors/myreadingmanga.html">
<link rel="import" href="connectors/readmanhua.html">
<link rel="import" href="connectors/timelessleaf.html">
<link rel="import" href="connectors/mangahost.html">
<link rel="import" href="connectors/yesmangasbr.html">
<link rel="import" href="connectors/goldenmangas.html">

<script>

    /**
     *
     */
    class Connectors {

        /**
         *
         */
        constructor() {
            //
            this.excludes = [];
            this.loadFilterList();
            // raw list of all available connectors
            this.available = [];
            this.register( new BookmarkConnector() );
            this.register( new KissMangaCDN() );
            this.register( new KissManga() );
            this.register( new MangaFox() );
            this.register( new DynastyScans() );
            this.register( new MangaReader() );
            this.register( new MangaHere() );
            this.register( new JapScan() );
            this.register( new MangaGoCDN() );
            this.register( new MangaGo() );
            this.register( new MangaStream() );
            this.register( new MangaTown() );
            this.register( new MangaPanda() );
            this.register( new MangaPark() );
            this.register( new MangaNel() );
            this.register( new MangaSee() );
            this.register( new CrunchyManga() );
            this.register( new MangaRock() );
            this.register( new VRVCrunchyroll() );
            this.register( new VRVHiDive() );
            this.register( new VRVRoosterteeth() );
            this.register( new MangaDex() );
            this.register( new TuMangaOnline() );
            this.register( new UnionMangas() );
            this.register( new ReadComicBooksOnline() );
            this.register( new RawSenManga() );
            this.register( new MangaBat() );
            this.register( new MangaKakalot() );
            this.register( new RawLH() );
            this.register( new RawQV() );
            this.register( new RawQQ() );
            this.register( new LHScan() );
            this.register( new ChibiManga() );
            this.register( new ItaScan() );
            this.register( new ReadManga() );
            this.register( new MintManga() );
            this.register( new SelfManga() );
            this.register( new MangaLife() );
            this.register( new MangaSail() );
            this.register( new MangaTail() );
            this.register( new RawNeko() );
            this.register( new TrashScanlations() );
            this.register( new MangaVy() );
            this.register( new MangaZuki() );
            this.register( new MangaZukiInfo() );
            this.register( new ZeroScans() );
            this.register( new Ngomik() );
            this.register( new ReadMNG() );
            this.register( new MangaEdenEN() );
            this.register( new MangaEdenIT() );
            this.register( new MangaTube() );
            this.register( new ReadComics() );
            this.register( new KomikCast() );
            this.register( new TAADD() );
            this.register( new TenManga() );
            this.register( new MangaRussia() );
            this.register( new WieManga() );
            this.register( new NineMangaEN() );
            this.register( new NineMangaES() );
            this.register( new NineMangaRU() );
            this.register( new NineMangaBR() );
            this.register( new NineMangaIT() );
            this.register( new NineMangaDE() );
            this.register( new FujoshiBitches() );
            this.register( new PowerManga() );
            this.register( new ShoujoSense() );
            this.register( new JaiminisBox() );
            this.register( new SenseScans() );
            this.register( new OneTimeScans() );
            this.register( new KireiCake() );
            this.register( new HelveticaScans() );
            this.register( new AntisenseScans() );
            this.register( new BunnysScans() );
            this.register( new CanisMajorScans() );
            this.register( new ChampionScans() );
            this.register( new DeathTollScans() );
            this.register( new DokiFansubs() );
            this.register( new EvilFlowers() );
            this.register( new ForgottenScans() );
            this.register( new HoshikuzuuScans() );
            this.register( new HotChocolateScans() );
            this.register( new IlluminatiManga() );
            this.register( new LetItGoScans() );
            this.register( new MangaichiScans() );
            this.register( new PhoenixSerenade() );
            this.register( new Riceballicious() );
            this.register( new RoseliaScanlations() );
            this.register( new S2Scans() );
            this.register( new SeaOtterScans() );
            this.register( new SilentSkyScans() );
            this.register( new TheCatScans() );
            this.register( new VortexScans() );
            this.register( new WhiteoutScans() );
            this.register( new WorldThree() );
            this.register( new YaoiIsLife() );
            this.register( new YuriISM() );
            this.register( new DigitalTeam() );
            this.register( new DangolineNoFansub() );
            this.register( new DejameProbar() );
            this.register( new HoshiNoFansub() );
            this.register( new JokerFansub() );
            this.register( new KirishimaFansub() );
            this.register( new LoliVault() );
            this.register( new MangajinNoFansub() );
            this.register( new MenudoFansub() );
            this.register( new NoraNoFansub() );
            this.register( new PatyScans() );
            this.register( new PCNet() );
            this.register( new Pzykosis666HFansub() );
            this.register( new RavensScansEN() );
            this.register( new RavensScansES() );
            this.register( new SeinagiAdultoFansub() );
            this.register( new SeinagiFansubEN() );
            this.register( new SeinagiFansubES() );
            this.register( new SolitarioNoFansub() );
            this.register( new TrueColorsScan() );
            this.register( new XAnimeSeduccion() );
            this.register( new YamiTenshiNoFansub() );
            this.register( new TwistedHelScans() );
            this.register( new AtelierDuNoir() );
            this.register( new NeoProjectScans() );
            this.register( new Nightow() );
            this.register( new LeoManga() );
            this.register( new Submanga() );
            this.register( new AnimExtremist() );
            this.register( new MangaWindow() );
            this.register( new Batoto() );
            this.register( new MangaHasu() );
            this.register( new MyReadingManga() );
            this.register( new ReadManhua() );
            this.register( new TimelessLeaf() );
            this.register( new MangaHost() );
            this.register( new YesMangasBR() );
            this.register( new GoldenMangas() );
        }

        /**
         * Prepare a given connector for UI interaction and add it to the list of available connectors.
         */
        register( connector ) {
            // determine if connector is already registered
            if( this.available.find( c => c.id === connector.id ) ) {
                return;
            }
            this.available.push( connector );
            this.available.sort( ( a, b ) => {
                return ( a.label.toLowerCase() < b.label.toLowerCase() ? -1 : 1 );
            } );
        }

        /**
         * List of all connectors shown in the UI selection list
         */
        get list() {
            //return this.available.slice( 10, 20 );
            return this.available.filter( connector => {
                return this.excludes.indexOf( connector.id ) < 0;
            } );
        }

        /**
         *
         */
        loadFilterList() {
            Engine.Storage.loadConfig( 'connectors' ).then( data => {
                this.excludes = data;
                document.dispatchEvent( new CustomEvent( EventListener.onConnectorFilterChanged, { detail: this.excludes } ) );
            } );
        }

        /**
         *
         */
        saveFilterList() {
            Engine.Storage.saveConfig( 'connectors', this.excludes ).then( () => {
                document.dispatchEvent( new CustomEvent( EventListener.onConnectorFilterChanged, { detail: this.excludes } ) );
            } );
        }

        /**
         *
         */
        addFilter( connector ) {
            let index = this.excludes.indexOf( connector.id );
            if( index < 0 ) {
                this.excludes.push( connector.id );
                this.excludes.sort();
                this.saveFilterList();
            }
        }

        /**
         *
         */
        deleteFilter( connector ) {
            let index = this.excludes.indexOf( connector.id );
            if( index > -1 ) {
                this.excludes = this.excludes.filter( id => id !== connector.id );
                this.excludes.sort();
                this.saveFilterList();
            }
        }
    }
    Connectors; // reference the class to prevent removal of the class through js-minify

</script>